Gnostr

Gnostr is a native Linux Nostr client built for the GNOME Desktop environment. It utilizes Libadwaita for a responsive, adaptive UI that works seamlessly on both desktop workstations and mobile Linux devices (like the Librem 5 or PinePhone).

Features

Adaptive UI: Uses Adw.NavigationSplitView to provide a sidebar layout on desktop and a navigation stack on mobile.

Secure Storage: Private keys (nsec) are stored securely in the system keyring using libsecret, never in plain text.

Sandboxed: Fully Flatpak compliant for security and portability.

Nostr Protocol: Connects to relays via WebSockets to fetch and publish events.

Prerequisites

To build and develop Gnostr, you need:

GNOME Builder (Recommended IDE)

Flatpak installed on your system.

GNOME SDK 48 (Builder will handle this automatically).

Building from Source

We use a modular build system to ensure reliability across different architectures (x86_64, ARM64).

1. Initialize Build Scripts

Before opening in GNOME Builder, generate the build configuration scripts. This ensures all dependencies (like websocket-client and libsecret) are configured correctly for your specific machine.

# Run this once (or whenever you change setup_build.py)
python3 setup_build.py


2. Build in GNOME Builder

Open GNOME Builder.

Select Open Project and choose this folder.

Click the Run (Play) button in the header bar.

Builder will automatically:

Create the Flatpak sandbox.

Install Python dependencies (websocket-client).

Compile libsecret with introspection data.

Launch the application.

3. Manual Build (Command Line)

If you prefer the terminal or need to debug a CI/CD pipeline:

# 1. Install dependencies and SDKs
flatpak install org.gnome.Sdk//48 org.gnome.Platform//48

# 2. Build the project
flatpak-builder --force-clean --user --install build me.velocitynet.Gnostr.json

# 3. Run the app
flatpak-run me.velocitynet.Gnostr


Development Structure

src/: Contains the application source code.

main.py: Entry point and UI logic.

key_manager.py: Handles secure key storage via Libsecret.

nostr_utils.py: Helpers for Bech32 encoding/decoding.

install_deps.sh: Script generated by setup_build.py to handle Pip packages.

install_app.sh: Script generated by setup_build.py to install the app code.

me.velocitynet.Gnostr.json: The Flatpak manifest definition.

Troubleshooting

Build fails with "Namespace Libsecret not available":
This usually means the introspection data wasn't found.

Run python3 setup_build.py again.

Delete the cache: rm -rf .flatpak-builder build

Rebuild.

App crashes on startup:
Check the logs in GNOME Builder. Ensure you have not deleted src/key_manager.py or other required files.

License

MIT License. See LICENSE for details.
